lighter:
    max-running-jobs: 5
    spark-history-server-url: http://localhost/spark-history/
    frontend-path: file:${FRONTEND_PATH:../frontend/build}
    py-gateway-port: 25333
    kubernetes:
        enabled: true
        master: k8s://kubernetes.default.svc.cluster.local:443
        namespace: spark
        max-log-size: 500
        submit-props:
              "spark.kubernetes.container.image": "218320193259.dkr.ecr.eu-central-1.amazonaws.com/hellcat:0.0.2796"
              "spark.kubernetes.namespace": spark
              "spark.kubernetes.authenticate.driver.serviceAccountName": spark
              "spark.kubernetes.driver.podTemplateFile": "/home/app/k8s/driver_pod_template.yaml"
              "spark.kubernetes.executor.podTemplateFile": "/home/app/k8s/executor_pod_template.yaml"
    storage:
        jdbc:
            enabled: true
            url: jdbc:h2:mem:lighter;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE;MODE=PostgreSQL
            username: sa
            password: ""
            driverClassName: org.h2.Driver

# Micronaut specific configs
jackson:
    serializationInclusion: ALWAYS
    serialization:
        writeDatesAsTimestamps: false

flyway:
    datasources:
        default:
            enabled: true

micronaut:
    server:
        cors:
            enabled: true
    application:
        name: lighter
    router:
        static-resources:
            swagger:
                paths: classpath:META-INF/swagger
                mapping: /swagger/**

    metrics:
        enabled: true
        export:
            prometheus:
                enabled: true
                step: PT1M
                descriptions: true
